<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<head>
  <title>Weight Converter</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  <!-- <link rel="stylesheet" href="style.css"/> -->
  <style>
    body{
      margin-top:70px;
      background:#333;
      color:#fff;
    }
    .form-control {
      width:auto;
      display:inline-block;
    }
  </style>

</head>
<body>
  <script>
    document.body.className += ' js';
  </script>
  <div class="container">
    <div class="row justify-content-center">
      <!-- <div class="col-md-8 offset-md-3"> -->
        <h1 class="display-4 text-center mb-3">Weight Converter</h1>
    </div>
  </div>
  <div class="container">
    <div class="row justify-content-center">
      <form>
        <!-- <div class="form-group"> -->
          <div class="form-row">
            <div class="form-group">
              <!-- <label for="units" class="col-form-label-lg">Units</label> -->
              <select id="units" name="units" class="form-control form-control-lg">
                <option id="pounds" value="Pounds">Pounds</option>
                <option id="grams" value="Grams">Grams</option>
                <option id="kilograms" value="Kilograms">Kilograms</option>
                <option id="ounces" value="Ounces">Ounces</option>
                <option id="convert" selected="selected" value="Convert">Convert from...</option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <input id="weightInput"
              type="number" 
              class="form-control form-control-lg"
              placeholder="Enter Pounds...">
            </div>
          </div>
      </form>
    </div>
      <div id="output">

        <!-- <div class="card-deck" style="width: 18rem;"> -->
          <div class="card bg-primary mb-2">
            <div class="card-body">
              <h4 class="card-text">Grams:</h4>
              <div id="gramsOutput"></div>
            </div>
          </div>

          <div class="card bg-success mb-2">
            <div class="card-body">
              <h4 class="card-text">Kilograms:</h4>
              <div id="kgOutput"></div>
            </div>
          </div>

          <div class="card bg-danger mb-2">
            <div class="card-body">
              <h4 class="card-text">Ounces:</h4>
              <div id="ozOutput"></div>
            </div>
          </div>

          <div class="card bg-info mb-2">
            <div class="card-body">
              <h4 class="card-text">Pounds:</h4>
              <div id="lbsOutput"></div>
            </div>
          </div>
        <!-- </div> -->

      </div>
    <!-- </div> -->
  </div>

  <script>
    var unitSelected = "";

    document.getElementById("units").addEventListener("click",
      function(e){
        let unit = e.target.value;

        if(unit === "Convert") {
          let convert = document.getElementById("convert")
          convert.remove(convert.selectedIndex);
        }

        if(unit!== "Convert") {
          document.getElementById("weightInput").placeholder = "Enter " + unit;
        }

        unitSelected = unit;
      }
    )

    document.getElementById("output").style.visibility = "hidden";
    document.getElementById("weightInput").addEventListener('input',
      function(e){
        let weight = e.target.value;
        let unit = document.getElementById("units");
        output = document.getElementById("output");

        // show cards when we have proper input
        if(weight !== '' && unit.value !== "Convert") {
          console.log("make visible")
          document.getElementById("output").style.visibility = "visible";
        }

        switch(unitSelected){
          case "Pounds":
            document.getElementById("gramsOutput").innerHTML=weight*453.592;
            document.getElementById("kgOutput").innerHTML=weight/2.2046;
            document.getElementById("ozOutput").innerHTML=weight*16;
            document.getElementById("lbsOutput").innerHTML=weight;
            break;
          case "Kilograms":
            document.getElementById("gramsOutput").innerHTML=weight*1000;
            document.getElementById("kgOutput").innerHTML=weight;
            document.getElementById("ozOutput").innerHTML=weight*35.274;
            document.getElementById("lbsOutput").innerHTML=weight*2.20462;
            break;
          case "Ounces":
            document.getElementById("gramsOutput").innerHTML=weight*28.3495;
            document.getElementById("kgOutput").innerHTML=weight/35.274;
            document.getElementById("ozOutput").innerHTML=weight;
            document.getElementById("lbsOutput").innerHTML=weight/16;
            break;
          case "Grams":
            document.getElementById("gramsOutput").innerHTML=weight;
            document.getElementById("kgOutput").innerHTML=weight/1000;
            document.getElementById("ozOutput").innerHTML=weight/28.3495;
            document.getElementById("lbsOutput").innerHTML=weight/453.592;
            break;
        }

      }
    )
  </script>

</body>
</html>